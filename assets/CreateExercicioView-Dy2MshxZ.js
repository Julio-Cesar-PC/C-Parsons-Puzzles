import{r as w,c as k,e,a as r,k as V,l as b,m as C,w as s,q as m,h as v,s as d,f as p,t as h,o as E}from"./index-ETqgz1y8.js";import{C as T,T as j}from"./CodeEditorC-Cc0slhuY.js";import{c as P}from"./exercicios-DTaizsIR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DaVyaJnr.js";const S={class:"flex items-center flex-wrap justify-center min-h-2xl px-20 my-2"},L={class:"px-1 py-1 rounded-lg shadow-lg w-full mx-auto h-[88vh] bg-base-300"},U={class:"container m-auto px-1 py-12"},q={class:"flex justify-between items-center mb-4"},M={role:"tablist",class:"tabs tabs-lifted pb-5 px-0"},I={role:"tabpanel",class:"tab-content p-5 bg-base-100 border rounded h-[70vh]"},A={class:"space-y-6 max-w-5xl mx-auto flex flex-col justify-between h-full"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},O={role:"tabpanel",class:"tab-content p-5 bg-base-100 border rounded h-[70vh]"},R={class:"space-y-6 max-w-5xl mx-auto flex flex-col justify-between h-full"},D={role:"tabpanel",class:"tab-content p-5 bg-base-100 border rounded h-[70vh]"},z={class:"space-y-6 max-w-5xl mx-auto flex flex-col justify-between h-full"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W=["onchange"],G={role:"tabpanel",class:"tab-content p-5 bg-base-100 border rounded-lg h-[70vh]"},H={class:"flex justify-center gap-8 px-4"},J={class:"w-1/4"},K={class:"bg-code text-primary-content p-4 rounded"},ee={__name:"CreateExercicioView",setup(Q){const o=w({dificuldade:"",area:"",enunciado:"",exercicio:"",max_wrong_lines:1,pythonTutor:"",linkOneCompiler:"",tags:[],max_tries:""});let n=new ParsonsWidget({sortableId:"sortable",trashId:"sortableTrash",max_wrong_lines:1,lang:"ptbr"});n.init(o.value.exercicio),n.shuffleLines();const x=()=>{const a={actionRequest:"postExercicio",payload:{...o.value,tags:o.value.tags.join(","),imgEnunciado:""}};console.log("Payload:",a),P(a).then(t=>{t.success?alert("Exercício salvo com sucesso!"):alert("Erro ao salvar exercício: "+t.message)}).catch(t=>{console.error("Erro ao salvar exercício:",t),alert("Ocorreu um erro ao salvar o exercício.")})},f=()=>{n.init(o.value.exercicio),n.shuffleLines()},y=()=>{n.getFeedback().length===0?alert("Parabéns! Você acertou o exercício!"):alert("Você ainda tem erros a corrigir.")},u=()=>{const a=document.querySelectorAll('input[name="tabs-1"]');let t=Array.from(a).findIndex(i=>i.checked);t<a.length-1&&(a[t+1].checked=!0)},c=()=>{const a=document.querySelectorAll('input[name="tabs-1"]');let t=Array.from(a).findIndex(i=>i.checked);t>0&&(a[t-1].checked=!0)};return(a,t)=>{const i=b("v-icon"),g=b("RouterLink");return E(),k("main",null,[e("div",S,[e("div",L,[e("div",U,[e("div",q,[r(g,{class:"btn btn-primary flex items-center gap-2",to:{name:"exerciciosList"}},{default:V(()=>[r(i,{name:"co-arrow-left"}),t[8]||(t[8]=p(" Voltar "))]),_:1}),t[9]||(t[9]=e("h1",{class:"text-3xl font-bold text-center flex-1"},"Criar Exercício Parsons Puzzle",-1)),t[10]||(t[10]=e("div",{class:"w-[100px]"},null,-1))]),e("form",{onSubmit:C(x,["prevent"]),class:""},[e("div",M,[t[27]||(t[27]=e("input",{type:"radio",name:"tabs-1",role:"tab",class:"tab","aria-label":"Editar",checked:""},null,-1)),e("div",I,[e("div",A,[e("div",null,[e("div",N,[e("div",null,[t[12]||(t[12]=e("label",{class:"label"},"Dificuldade:",-1)),s(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.dificuldade=l),class:"select w-full select-bordered",required:""},t[11]||(t[11]=[v('<option disabled value="">Selecione a dificuldade</option><option value="0">Muito fácil</option><option value="1">Fácil</option><option value="2">Médio</option><option value="3">Difícil</option><option value="4">Muito difícil</option>',6)]),512),[[m,o.value.dificuldade]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"label"},"Área do exercício:",-1)),s(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.area=l),class:"select w-full select-bordered",required:""},t[13]||(t[13]=[v('<option disabled value="">Selecione a área</option><option value="Entrada e saída">Entrada e saída</option><option value="Condicional">Condicional</option><option value="Laços de repetição">Laços de repetição</option><option value="Vetores (arrays)">Vetores (arrays)</option><option value="Matrizes">Matrizes</option><option value="Strings">Strings</option><option value="Funções">Funções</option><option value="Ponteiros">Ponteiros</option><option value="Structs">Structs</option><option value="Arquivos">Arquivos</option><option value="Recursão">Recursão</option>',12)]),512),[[m,o.value.area]])])]),e("div",null,[t[15]||(t[15]=e("label",{class:"label"},"Enunciado:",-1)),s(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.enunciado=l),class:"textarea textarea-bordered w-full h-32",placeholder:"Descreva o desafio..."},null,512),[[d,o.value.enunciado]])])]),e("div",{class:"flex justify-end mt-auto"},[e("button",{type:"button",class:"btn btn-primary",onClick:u}," Próximo ")])])]),t[28]||(t[28]=e("input",{type:"radio",name:"tabs-1",role:"tab",class:"tab","aria-label":"Código"},null,-1)),e("div",O,[e("div",R,[e("div",null,[t[16]||(t[16]=e("label",{class:"label"},"Código (ordem correta):",-1)),r(T,{modelValue:o.value.exercicio,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.exercicio=l)},null,8,["modelValue"]),t[17]||(t[17]=e("p",{class:"text-sm text-gray-400 mt-1"},[p(" Use "),e("code",null,"#distractor"),p(" no final de linhas erradas. ")],-1))]),e("div",{class:"flex justify-end mt-auto"},[e("button",{type:"button",class:"btn btn-secondary mr-2",onClick:c}," Voltar "),e("button",{type:"button",class:"btn btn-primary",onClick:u}," Próximo ")])])]),t[29]||(t[29]=e("input",{type:"radio",name:"tabs-1",role:"tab",class:"tab","aria-label":"Opcionais"},null,-1)),e("div",D,[e("div",z,[e("div",null,[e("div",B,[e("div",null,[t[18]||(t[18]=e("label",{class:"label"},"Link Python Tutor:",-1)),s(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>o.value.pythonTutor=l),class:"input input-bordered w-full",placeholder:"https://pythontutor.com/..."},null,512),[[d,o.value.pythonTutor]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"label"},"Link One Compiler:",-1)),s(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>o.value.linkOneCompiler=l),class:"input input-bordered w-full",placeholder:"https://onecompiler.com/..."},null,512),[[d,o.value.linkOneCompiler]])])]),e("div",F,[e("div",null,[t[20]||(t[20]=e("label",{class:"label"},"Tags:",-1)),r(j,{class:"",modelValue:o.value.tags,"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.tags=l)},null,8,["modelValue"])]),e("div",null,[t[21]||(t[21]=e("label",{class:"label"},"Tentativas máximas:",-1)),s(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=l=>o.value.max_tries=l),class:"input input-bordered w-full",placeholder:"Número de tentativas",min:"0",max:"10"},null,512),[[d,o.value.max_tries]])])])]),e("div",{class:"flex justify-end mt-auto"},[e("button",{type:"button",class:"btn btn-secondary mr-2",onClick:c}," Voltar "),e("button",{type:"button",class:"btn btn-primary",onClick:u}," Próximo ")])])]),e("input",{type:"radio",name:"tabs-1",role:"tab",class:"tab","aria-label":"Preview",onchange:f()},null,8,W),e("div",G,[e("div",H,[e("div",J,[e("div",{class:"w-full flex justify-evenly items-center my-4"},[e("div",{class:"join"},[t[22]||(t[22]=e("button",{disabled:"",class:"btn btn-secondary join-item"},"Resortear",-1)),e("button",{onClick:y,class:"btn btn-primary join-item"}," Testar ")])]),t[23]||(t[23]=e("div",{class:"divider"},null,-1)),t[24]||(t[24]=e("h1",{class:"text-2xl font-bold mb-4 text-center"},"Enunciado:",-1)),e("div",K,h(o.value.enunciado),1)]),e("div",{class:"w-3/4"},[t[26]||(t[26]=e("div",{class:"flex flex-wrap justify-evenly rounded mt-4 h-[55vh] max-h text-secondary-content"},[e("div",{id:"sortableTrash",class:"py-4 px-2 sortable-code bg-code overflow-auto h-full max-h rounded"}),e("div",{id:"sortable",class:"py-4 px-2 sortable-code bg-code overflow-auto h-full max-h rounded"})],-1)),e("div",{class:"flex justify-end mt-4"},[e("button",{type:"button",class:"btn btn-secondary mr-2",onClick:c}," Voltar "),t[25]||(t[25]=e("button",{type:"submit",class:"btn btn-primary"},"Salvar Exercício",-1))])])])])])],32)])])])])}}};export{ee as default};
